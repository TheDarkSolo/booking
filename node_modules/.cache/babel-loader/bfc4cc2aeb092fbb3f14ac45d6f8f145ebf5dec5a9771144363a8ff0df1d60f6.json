{"ast":null,"code":"import _objectSpread from\"/home/erbulan/booking/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/erbulan/booking/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/erbulan/booking/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/erbulan/booking/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useForm}from\"react-hook-form\";import{useTranslation}from\"react-i18next\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router\";//COMPONENTS\nimport ModalLoading from\"../ModalLoading/ModalLoading\";import ModalPracticeError from\"../../Modal/ModalPracticeError\";import ModalCongratPractice from\"../../Modal/ModalCongratPractice\";import ReactCountdownClock from\"react-countdown-clock\";import ErrorVerifyPage from\"../../ErrorPage/ErrorVerifyPage\";//import ModalAppNumberError from \"../../Modal/ModalAppNumberError\";\nimport OTPInput,{ResendOTP}from\"otp-input-react\";import TheoryExamForm from\"./TheoryExamForm\";import ModalActiveTicket from\"../../Modal/ModalActiveTicket\";import\"./TheoryExamPage.css\";//REDUX\nimport{setDataUser}from\"../../../store/slices/userDataSlice\";//ICON\nimport{IoIosArrowBack}from\"react-icons/io\";//API REQUEST FUNCTION\nimport{verifyUserByIIN,verifySMSCode}from\"../../../helpers/ApiRequestList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TheoryExamPage=function TheoryExamPage(){//USE TRANSLATE LANG\nvar _useTranslation=useTranslation(),t=_useTranslation.t;var navigate=useNavigate();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),examData=_useState2[0],setExamData=_useState2[1];//SHOW FORM SELECT DATE AND TIME FOR EXAM AFTER VERIFY APPLICANT\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isVerify=_useState4[0],setIsVerify=_useState4[1];//SHOW LOADING ANIMATION MODAL\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isloading=_useState6[0],setIsLoading=_useState6[1];//IF APPLICANT NOT FOUND SHOW ERROR\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isUser=_useState8[0],setIsUser=_useState8[1];//SHOW MODALS\nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),congartModal=_useState10[0],setCongartModal=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isTheoryResModal=_useState12[0],setIsTheoryResModal=_useState12[1];//TOOGLE SHOW INPUT VERIFY CODE\nvar _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),messageBlock=_useState14[0],setMessageBlock=_useState14[1];//SECONDS FOR TIMER\nvar _useState15=useState(180),_useState16=_slicedToArray(_useState15,2),seconds=_useState16[0],setSeconds=_useState16[1];//FOR DISABLED BUTTON IF TIMER OUT OF TIME\nvar _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),disBtn=_useState18[0],setDisBtn=_useState18[1];//SHOW ERROR IF APPLICANT NOT PASS THEORY EXAM\nvar _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),notPassExam=_useState20[0],setNotPassExam=_useState20[1];//SHOW ERROR IF APPLICANT INPUT WRONG VERIFY CODE\nvar _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),isWrongCode=_useState22[0],setIsWrongCode=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),isWrongIIN=_useState24[0],setIsWrongIIN=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),OTP=_useState26[0],setOTP=_useState26[1];//show error if user has already active ticket\nvar _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),hasActiveTicket=_useState28[0],setHasActiveTicket=_useState28[1];//show error if user has expired application number\nvar _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),expiredAppNumber=_useState30[0],setExpiredAppNumber=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),responseError=_useState32[0],setResponseError=_useState32[1];//bmgNote hide\nvar _useState33=useState(true),_useState34=_slicedToArray(_useState33,2),isTextVisible=_useState34[0],setIsTextVisible=_useState34[1];var token=useSelector(function(state){return state.token.token;});var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),showTooltip=_useState36[0],setShowTooltip=_useState36[1];var handleMouseOver=function handleMouseOver(){setShowInfo(true);};var handleMouseOut=function handleMouseOut(){setShowInfo(false);};var _useForm=useForm({IIN:\"\",APP_NUMBER:\"\",mode:\"onChange\",message:\"\"}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,_useForm$formState=_useForm.formState,errors=_useForm$formState.errors,isDirty=_useForm$formState.isDirty,isValid=_useForm$formState.isValid;var dispatch=useDispatch();var _window=window,btoa=_window.btoa;//SEND IIN TO DATABASE TO VERIFY USER\nvar verifyUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(iin,app_number,token){var requestOptions;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:requestOptions={method:'GET',/*headers: myHeaders, */redirect:'follow'};fetch(\"/api/t1/theory/verify/\"+iin+\"/\",requestOptions).then(function(response){if(response.ok){return response.json();}else{throw new Error(\"Request failed with status code \".concat(response.status));}}).then(function(result){if(result.success){sessionStorage.setItem(\"iin\",JSON.stringify(iin));sessionStorage.setItem(\"app_number\",JSON.stringify(app_number));//SHOW INPUT OTP TO VERIFY CODE\nsetMessageBlock(true);}// else if (result.error === \"Applicant not found.\") { // Check the actual error message returned by the API\n//   setIsUser(true);\n// }\nelse if(result.error){setIsWrongIIN(true);}//APLICANT NOT FOUND\nelse{setMessageBlock(false);//APPLICANT NOT FOUND ERROR\nisUser(true);}}).catch(function(error){return console.log('error',error);});case 2:case\"end\":return _context.stop();}},_callee);}));return function verifyUser(_x,_x2,_x3){return _ref.apply(this,arguments);};}();//SEND SMS CODE FROM USER\nvar sendVerifyCodeApplicant=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(verify_code,token){var url,storageData,storageData2,obj,myHeaders,raw;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:url=\"/api/t1/theory/verify/\";storageData=sessionStorage.getItem(\"iin\");storageData2=sessionStorage.getItem(\"app_number\");obj={\"iin\":JSON.parse(storageData),\"app_number\":JSON.parse(storageData2),\"code\":verify_code};myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");raw=JSON.stringify({iin:JSON.parse(storageData),app_number:JSON.parse(storageData2),code:verify_code});fetch(url,{headers:myHeaders,method:\"POST\",body:raw}).then(function(response){if(response.ok){return response.json();}else{setResponseError(true);throw new Error(\"INITIAL Request failed with status code \".concat(response.status));}}).then(function(data){if(data.error){//SHOW ERROR IF APPLICANT NOT PASS THEORY EXAM\n// setIsVerify(true)\nif(data.error==\"У заявителя есть активные экзамены.\"){// assuming the server returns this data\nsetHasActiveTicket(true);if(data.exam_data){sessionStorage.setItem(\"exam_data\",JSON.stringify(data.exam_data));setExamData(data.exam_data);setHasActiveTicket(true);}}else{if(data.error==\"The application number has expired.\"){setExpiredAppNumber(true);}else{setMessageBlock(false);setNotPassExam(true);setOTP(\"\");//console.log(data.error);\n// console.log(data)\n}}}//APLICANT INPUT WRONG VERIFY CODE\nelse if(data.error===false){//SHOW ERROR APPLICANT INPUT WRONG VERIFY CODE\nsetMessageBlock(true);setIsWrongCode(true);setOTP(\"\");}//OK\nelse{//console.log(data);\nsetNotPassExam(false);setIsVerify(true);dispatch(setDataUser(data));setMessageBlock(false);setOTP(\"\");}});/*.catch(function (res) {\n      console.log(res,'\\texcept');\n      return res\n    });*/case 8:case\"end\":return _context2.stop();}},_callee2);}));return function sendVerifyCodeApplicant(_x4,_x5){return _ref2.apply(this,arguments);};}();// IF THE TIMER IS OUT OF TIME TOOGLE DISABLED BUTTON \"Забронировать\"\nvar timeDone=function timeDone(){setDisBtn(true);};// SEND SMS CODE AGAIN\nvar SendMessageAgain=function SendMessageAgain(){setDisBtn(false);//RESTART TIMER\nsetSeconds(function(seconds){return seconds+=10;});var storageData=sessionStorage.getItem(\"iin\");var storageData2=sessionStorage.getItem(\"app_number\");verifyUser(JSON.parse(storageData,storageData2));};//SUBMIT - SEND IIN AND GET VERIFY CODE\nvar getMessage=function getMessage(data){verifyUser(data.IIN,data.APP_NUMBER,token.access);};//SEND SMS CODE FROM APPLICANT TO CHECK\nvar verifyOTP=function verifyOTP(){sendVerifyCodeApplicant(OTP,token.access);if(isVerify)submit();};var submit=function submit(){setIsLoading(true);setTimeout(function(){setIsLoading(false);},500);setMessageBlock(false);//sendVerifyCodeApplicant(OTP, token.access);\nreset();};useEffect(function(){//console.log(token.access)\n},[isVerify,seconds,notPassExam,OTP,token]);return/*#__PURE__*/_jsxs(\"div\",{className:\"offset_theory_exam_page flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex w-100 mt-4\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn_back\",onClick:function onClick(){return navigate(-1);},children:[/*#__PURE__*/_jsx(IoIosArrowBack,{}),t(\"goBack\")]})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex w-100 text-center flex-column mt-4\",children:/*#__PURE__*/_jsx(\"h2\",{children:t(\"titlePageTheoryExam\")})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex w-100 text-start align-items-center justify-content-center\",children:!isVerify?/*#__PURE__*/_jsxs(\"form\",{className:messageBlock?\"hide\":\"form_input\",onSubmit:handleSubmit(getMessage),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-center mt-5\",children:t(\"head_text_input\")}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control input_w my-2\",placeholder:t(\"iin\"),maxLength:\"12\",minLength:\"12\",name:\"IIN\"},register(\"IIN\",{required:\"Введите ИИН\",pattern:{value:/^[0-9]+$/,message:\"ИИН состоит только из цифр\"}}))),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"form-control input_w my-2\",placeholder:t(\"applicationNumber\"),maxLength:\"12\",minLength:\"12\",name:\"APP_NUMBER\"},register(\"APP_NUMBER\",{required:\"Введите ваш номер заявки\",pattern:{value:/^(009|004)[0-9]{9}$/,message:\"Номер заявки должен состоять из 12 цифр и начинаться с 009 или 004\"}}))),/*#__PURE__*/_jsx(\"i\",{className:\"icon-info\",onMouseEnter:function onMouseEnter(){return setShowTooltip(true);},onMouseLeave:function onMouseLeave(){return setShowTooltip(false);}// Make sure to add this line\n,children:\"\\u2139\\uFE0F\"}),showTooltip&&/*#__PURE__*/_jsx(\"div\",{className:\"tooltip\",children:\"Additional info\"})]}),errors.IIN&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.IIN.message}),errors.APP_NUMBER&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.APP_NUMBER.message}),isUser&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger my-2\",children:t(\"notIINFound\")}),isWrongIIN&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger fs-3\",children:t(\"wrongIIN\")}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success btn_width my-3\",type:\"submit\",disabled:!isDirty||!isValid,onClick:function onClick(){return setIsTextVisible(false);},children:t(\"btn_title_reservation\")})]}):/*#__PURE__*/ // SHOW FORM TO SELECT DATE AND TIME TO RESERVE PRACTICE EXAM\n_jsx(\"div\",{className:\"d-flex w-100 text-start align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(TheoryExamForm,{})})}),messageBlock&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-wrap flex-column align-items-center justify-content-center w-100 mt-3\"// onSubmit={handleSubmit(submit)}\n,children:[/*#__PURE__*/_jsx(\"p\",{className:\"px-3 text-center\",children:t(\"enterOTP\")}),/*#__PURE__*/_jsx(OTPInput,{value:OTP,onChange:setOTP,autoFocus:true,OTPLength:6,otpType:\"number\",maxTime:seconds,disabled:seconds===0,inputStyles:{border:\"1px solid green\",width:\"44px\",height:\"44px\",fontSize:\"18px\",borderRadius:\"8px\"},focusStyle:{border:\"1px solid green\"}}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-danger text-center\",children:notPassExam}),isWrongCode&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger fs-3\",children:t(\"wrongOTP\")}),expiredAppNumber&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger fs-3\",children:t(\"expiredAppNumber\")}),responseError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger fs-3\",children:\"\\u0418\\u0437\\u0432\\u0438\\u043D\\u0438\\u0442\\u0435, \\u043F\\u0440\\u043E\\u0438\\u0437\\u043E\\u0448\\u043B\\u0430 \\u0432\\u043D\\u0443\\u0442\\u0440\\u0435\\u043D\\u043D\\u044F\\u044F \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0441\\u0435\\u0440\\u0432\\u0435\\u0440\\u0430. \\u041D\\u0430\\u0448\\u0438 \\u0441\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u0438\\u0441\\u0442\\u044B \\u0443\\u0436\\u0435 \\u0443\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u044B \\u043E \\u043F\\u0440\\u043E\\u0431\\u043B\\u0435\\u043C\\u0435 \\u0438 \\u0440\\u0430\\u0431\\u043E\\u0442\\u0430\\u044E\\u0442 \\u043D\\u0430\\u0434 \\u0435\\u0451 \\u0443\\u0441\\u0442\\u0440\\u0430\\u043D\\u0435\\u043D\\u0438\\u0435\\u043C. \\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u043F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u044C \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441 \\u043F\\u043E\\u0437\\u0436\\u0435.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column w-50 align-items-center justify-content-center w-100 mt-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success mb-5\",type:\"button\",onClick:verifyOTP,disabled:disBtn||OTP.length<6,children:t(\"bron\")}),/*#__PURE__*/_jsx(\"button\",{className:\"btn mb-3 btn-light\",onClick:function onClick(){return SendMessageAgain();},disabled:!disBtn,children:t(\"againOTP\")}),/*#__PURE__*/_jsx(ReactCountdownClock,{seconds:seconds,color:\"#6c757d\",alpha:2,size:48,onComplete:timeDone})]})]}),isloading&&/*#__PURE__*/_jsx(ModalLoading,{isLoading:isloading}),/*#__PURE__*/_jsx(ModalPracticeError,{isTheoryResModal:isTheoryResModal,setShow:setIsTheoryResModal}),/*#__PURE__*/_jsx(ModalCongratPractice,{congartModal:congartModal,setShow:setCongartModal}),/*#__PURE__*/_jsx(ModalActiveTicket,{hasActiveTicket:hasActiveTicket,setHasActiveTicket:setHasActiveTicket,examData:examData})]});};export default TheoryExamPage;","map":{"version":3,"names":["React","useEffect","useState","useForm","useTranslation","useDispatch","useSelector","useNavigate","ModalLoading","ModalPracticeError","ModalCongratPractice","ReactCountdownClock","ErrorVerifyPage","OTPInput","ResendOTP","TheoryExamForm","ModalActiveTicket","setDataUser","IoIosArrowBack","verifyUserByIIN","verifySMSCode","jsx","_jsx","jsxs","_jsxs","TheoryExamPage","_useTranslation","t","navigate","_useState","_useState2","_slicedToArray","examData","setExamData","_useState3","_useState4","isVerify","setIsVerify","_useState5","_useState6","isloading","setIsLoading","_useState7","_useState8","isUser","setIsUser","_useState9","_useState10","congartModal","setCongartModal","_useState11","_useState12","isTheoryResModal","setIsTheoryResModal","_useState13","_useState14","messageBlock","setMessageBlock","_useState15","_useState16","seconds","setSeconds","_useState17","_useState18","disBtn","setDisBtn","_useState19","_useState20","notPassExam","setNotPassExam","_useState21","_useState22","isWrongCode","setIsWrongCode","_useState23","_useState24","isWrongIIN","setIsWrongIIN","_useState25","_useState26","OTP","setOTP","_useState27","_useState28","hasActiveTicket","setHasActiveTicket","_useState29","_useState30","expiredAppNumber","setExpiredAppNumber","_useState31","_useState32","responseError","setResponseError","_useState33","_useState34","isTextVisible","setIsTextVisible","token","state","_useState35","_useState36","showTooltip","setShowTooltip","handleMouseOver","setShowInfo","handleMouseOut","_useForm","IIN","APP_NUMBER","mode","message","register","handleSubmit","reset","_useForm$formState","formState","errors","isDirty","isValid","dispatch","_window","window","btoa","verifyUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","iin","app_number","requestOptions","wrap","_callee$","_context","prev","next","method","redirect","fetch","then","response","ok","json","Error","concat","status","result","success","sessionStorage","setItem","JSON","stringify","error","catch","console","log","stop","_x","_x2","_x3","apply","arguments","sendVerifyCodeApplicant","_ref2","_callee2","verify_code","url","storageData","storageData2","obj","myHeaders","raw","_callee2$","_context2","getItem","parse","Headers","append","code","headers","body","data","exam_data","_x4","_x5","timeDone","SendMessageAgain","getMessage","access","verifyOTP","submit","setTimeout","className","children","onClick","onSubmit","_objectSpread","placeholder","maxLength","minLength","name","required","pattern","value","onMouseEnter","onMouseLeave","type","disabled","onChange","autoFocus","OTPLength","otpType","maxTime","inputStyles","border","width","height","fontSize","borderRadius","focusStyle","length","color","alpha","size","onComplete","isLoading","setShow"],"sources":["/home/erbulan/booking/src/Components/Reservation/TheoryExamPage/TheoryExamPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router\";\n\n//COMPONENTS\nimport ModalLoading from \"../ModalLoading/ModalLoading\";\nimport ModalPracticeError from \"../../Modal/ModalPracticeError\";\nimport ModalCongratPractice from \"../../Modal/ModalCongratPractice\";\nimport ReactCountdownClock from \"react-countdown-clock\";\nimport ErrorVerifyPage from \"../../ErrorPage/ErrorVerifyPage\";\n//import ModalAppNumberError from \"../../Modal/ModalAppNumberError\";\nimport OTPInput, { ResendOTP } from \"otp-input-react\";\nimport TheoryExamForm from \"./TheoryExamForm\";\nimport ModalActiveTicket from \"../../Modal/ModalActiveTicket\";\nimport \"./TheoryExamPage.css\";\n\n//REDUX\nimport { setDataUser } from \"../../../store/slices/userDataSlice\";\n\n//ICON\nimport { IoIosArrowBack } from \"react-icons/io\";\n\n//API REQUEST FUNCTION\nimport {\n  verifyUserByIIN,\n  verifySMSCode,\n} from \"../../../helpers/ApiRequestList\";\n\nconst TheoryExamPage = () => {\n  //USE TRANSLATE LANG\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const [examData, setExamData] = useState(null);\n\n  //SHOW FORM SELECT DATE AND TIME FOR EXAM AFTER VERIFY APPLICANT\n  const [isVerify, setIsVerify] = useState(false);\n  //SHOW LOADING ANIMATION MODAL\n  const [isloading, setIsLoading] = useState(false);\n  //IF APPLICANT NOT FOUND SHOW ERROR\n  const [isUser, setIsUser] = useState(false);\n\n  //SHOW MODALS\n  const [congartModal, setCongartModal] = useState(false);\n  const [isTheoryResModal, setIsTheoryResModal] = useState(false);\n\n  //TOOGLE SHOW INPUT VERIFY CODE\n  const [messageBlock, setMessageBlock] = useState(false);\n  //SECONDS FOR TIMER\n  const [seconds, setSeconds] = useState(180);\n  //FOR DISABLED BUTTON IF TIMER OUT OF TIME\n  const [disBtn, setDisBtn] = useState(false);\n  //SHOW ERROR IF APPLICANT NOT PASS THEORY EXAM\n  const [notPassExam, setNotPassExam] = useState(false);\n\n  //SHOW ERROR IF APPLICANT INPUT WRONG VERIFY CODE\n  const [isWrongCode, setIsWrongCode] = useState(false);\n  const [isWrongIIN, setIsWrongIIN] = useState(false);\n  const [OTP, setOTP] = useState(\"\");\n\n  //show error if user has already active ticket\n  const [hasActiveTicket, setHasActiveTicket] = useState(false);\n\n  //show error if user has expired application number\n  const [expiredAppNumber, setExpiredAppNumber] = useState(false);\n  const [responseError, setResponseError] = useState(false);\n\n  //bmgNote hide\n  const [isTextVisible, setIsTextVisible] = useState(true);\n\n  const token = useSelector(state => state.token.token)\n\n\n  const [showTooltip, setShowTooltip] = useState(false);\n\n  const handleMouseOver = () => {\n    setShowInfo(true);\n  };\n\n  const handleMouseOut = () => {\n    setShowInfo(false);\n  };\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors, isDirty, isValid },\n  } = useForm({\n    IIN: \"\",\n    APP_NUMBER: \"\",\n    mode: \"onChange\",\n    message: \"\",\n  });\n\n  const dispatch = useDispatch();\n  const { btoa } = window;\n  //SEND IIN TO DATABASE TO VERIFY USER\n  const verifyUser = async (iin, app_number, token) => {\n\n    var requestOptions = {\n      method: 'GET', /*headers: myHeaders, */\n      redirect: 'follow'\n    };\n\n    fetch(\"/api/t1/theory/verify/\" + iin + \"/\", requestOptions)\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          throw new Error(`Request failed with status code ${response.status}`);\n        }\n      })\n      .then(result => {\n        if (result.success) {\n          sessionStorage.setItem(\"iin\", JSON.stringify(iin));\n          sessionStorage.setItem(\"app_number\", JSON.stringify(app_number));\n          //SHOW INPUT OTP TO VERIFY CODE\n          setMessageBlock(true);\n        }\n        // else if (result.error === \"Applicant not found.\") { // Check the actual error message returned by the API\n        //   setIsUser(true);\n        // }\n\n        else if (result.error) {\n          setIsWrongIIN(true);\n        }\n        //APLICANT NOT FOUND\n        else {\n          setMessageBlock(false)\n          //APPLICANT NOT FOUND ERROR\n          isUser(true);\n        }\n      })\n      .catch(error => console.log('error', error));\n  };\n\n\n\n  //SEND SMS CODE FROM USER\n  const sendVerifyCodeApplicant = async (verify_code, token) => {\n    const url = \"/api/t1/theory/verify/\"\n\n    const storageData = sessionStorage.getItem(\"iin\");\n    const storageData2 = sessionStorage.getItem(\"app_number\");\n\n    const obj = {\n      \"iin\": JSON.parse(storageData),\n      \"app_number\": JSON.parse(storageData2),\n      \"code\": verify_code,\n    }\n\n    let myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    let raw = JSON.stringify({\n      iin: JSON.parse(storageData),\n      app_number: JSON.parse(storageData2),\n      code: verify_code\n    });\n\n    fetch(url, {\n      headers: myHeaders,\n      method: \"POST\",\n      body: raw\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n      else {\n        setResponseError(true);\n        throw new Error(`INITIAL Request failed with status code ${response.status}`);\n      }\n    })\n      .then((data) => {\n        if (data.error) {\n          //SHOW ERROR IF APPLICANT NOT PASS THEORY EXAM\n          // setIsVerify(true)\n          if (data.error == \"У заявителя есть активные экзамены.\") { // assuming the server returns this data\n            setHasActiveTicket(true);\n            if (data.exam_data) {\n              sessionStorage.setItem(\"exam_data\", JSON.stringify(data.exam_data));\n              setExamData(data.exam_data);\n              setHasActiveTicket(true);\n            }\n          } else {\n            if (data.error == \"The application number has expired.\") {\n              setExpiredAppNumber(true);\n            } else {\n              setMessageBlock(false)\n              setNotPassExam(true);\n              setOTP(\"\");\n              //console.log(data.error);\n              // console.log(data)\n            }\n          }\n        }\n        //APLICANT INPUT WRONG VERIFY CODE\n        else if (data.error === false) {\n          //SHOW ERROR APPLICANT INPUT WRONG VERIFY CODE\n          setMessageBlock(true);\n          setIsWrongCode(true);\n          setOTP(\"\");\n\n        }\n        //OK\n        else {\n          //console.log(data);\n          setNotPassExam(false);\n          setIsVerify(true);\n          dispatch(setDataUser(data));\n          setMessageBlock(false);\n          setOTP(\"\");\n        }\n      })\n    /*.catch(function (res) {\n      console.log(res,'\\texcept');\n      return res\n    });*/\n  };\n\n  // IF THE TIMER IS OUT OF TIME TOOGLE DISABLED BUTTON \"Забронировать\"\n  const timeDone = () => {\n    setDisBtn(true);\n  };\n\n  // SEND SMS CODE AGAIN\n  const SendMessageAgain = () => {\n    setDisBtn(false);\n    //RESTART TIMER\n    setSeconds((seconds) => (seconds += 10));\n    const storageData = sessionStorage.getItem(\"iin\");\n    const storageData2 = sessionStorage.getItem(\"app_number\");\n    verifyUser(JSON.parse(storageData, storageData2));\n  };\n\n  //SUBMIT - SEND IIN AND GET VERIFY CODE\n  const getMessage = (data) => {\n    verifyUser(data.IIN, data.APP_NUMBER, token.access);\n  };\n\n  //SEND SMS CODE FROM APPLICANT TO CHECK\n  const verifyOTP = () => {\n\n    sendVerifyCodeApplicant(OTP, token.access);\n    if (isVerify)\n      submit();\n  }\n\n\n\n  const submit = () => {\n    setIsLoading(true);\n    setTimeout(() => {\n      setIsLoading(false);\n    }, 500);\n\n    setMessageBlock(false);\n    //sendVerifyCodeApplicant(OTP, token.access);\n    reset();\n  };\n\n  useEffect(() => {\n    //console.log(token.access)\n  }, [isVerify, seconds, notPassExam, OTP, token]);\n\n  return (\n    <div className=\"offset_theory_exam_page flex-column\">\n\n      <div className=\"d-flex w-100 mt-4\">\n        <button className=\"btn_back\" onClick={() => navigate(-1)}>\n          <IoIosArrowBack />\n          {t(\"goBack\")}\n        </button>\n      </div>\n\n      <div className=\"d-flex w-100 text-center flex-column mt-4\">\n        <h2>{t(\"titlePageTheoryExam\")}</h2>\n      </div>\n\n      <div className=\"d-flex w-100 text-start align-items-center justify-content-center\">\n        {!isVerify ? (\n          <form\n            className={messageBlock ? \"hide\" : \"form_input\"}\n            onSubmit={handleSubmit(getMessage)}\n          >\n            <p className=\"text-center mt-5\">{t(\"head_text_input\")}</p>\n            {/* INPUT TICKET */}\n            <input\n              className=\"form-control input_w my-2\"\n              placeholder={t(\"iin\")}\n              maxLength=\"12\"\n              minLength=\"12\"\n              name=\"IIN\"\n              {...register(\"IIN\", {\n                required: \"Введите ИИН\",\n                pattern: {\n                  value: /^[0-9]+$/,\n                  message: \"ИИН состоит только из цифр\",\n                },\n              })}\n            />\n\n\n            <div className=\"input-container\">\n              <input\n                className=\"form-control input_w my-2\"\n                placeholder={t(\"applicationNumber\")}\n                maxLength=\"12\"\n                minLength=\"12\"\n                name=\"APP_NUMBER\"\n                {...register(\"APP_NUMBER\", {\n                  required: \"Введите ваш номер заявки\",\n                  pattern: {\n                    value: /^(009|004)[0-9]{9}$/,\n                    message: \"Номер заявки должен состоять из 12 цифр и начинаться с 009 или 004\",\n                  },\n                })}\n              />\n              <i\n                className=\"icon-info\"\n                onMouseEnter={() => setShowTooltip(true)}\n                onMouseLeave={() => setShowTooltip(false)} // Make sure to add this line\n              >\n                ℹ️\n              </i>\n              {showTooltip && (\n                <div className=\"tooltip\">Additional info</div>\n              )}\n            </div>\n\n\n            {/* <input\n              className=\"form-control input_w my-2\"\n              placeholder={t(\"applicationNumber\")}\n              maxLength=\"12\"\n              minLength=\"12\"\n              name=\"APP_NUMBER\"\n              {...register(\"APP_NUMBER\", {\n                required: \"Введите ваш номер заявки\",\n                pattern: {\n                  value: /^(009|004)[0-9]{9}$/,\n                  message: \"Номер заявки должен состоять из 12 цифр и начинаться с 009 или 004\",\n                },\n              })}\n            /> */}\n\n\n\n\n\n\n\n\n            {/* ERRORS FOR INPUT */}\n            {errors.IIN && <p className=\"text-danger\">{errors.IIN.message}</p>}\n            {errors.APP_NUMBER && <p className=\"text-danger\">{errors.APP_NUMBER.message}</p>}\n\n            {/* ERROR NOT FOUND TICKTET */}\n            {isUser && (\n              <p className=\"text-danger my-2\">{t(\"notIINFound\")}</p>\n            )}\n            {isWrongIIN && <p className=\"text-danger fs-3\">{t(\"wrongIIN\")}</p>}\n\n            {/* ERROR IF USER BOOKS FOR THEORY EXAM */}\n\n            {/* SUBMIT BUTTON */}\n            <button\n              className=\"btn btn-success btn_width my-3\"\n              type=\"submit\"\n              disabled={!isDirty || !isValid}\n              onClick={() => setIsTextVisible(false)}\n            >\n              {/* Авторизоваться */}\n              {t(\"btn_title_reservation\")}\n            </button>\n          </form>\n        ) : (\n          // SHOW FORM TO SELECT DATE AND TIME TO RESERVE PRACTICE EXAM\n          <div className=\"d-flex w-100 text-start align-items-center justify-content-center\">\n            <TheoryExamForm />\n          </div>\n        )}\n\n\n      </div>\n\n      {/* {isTextVisible && (\n        <p className=\"text-center mt-3 text-muted\">\n          {t(\"bmgNote\")}\n        </p>\n      )} */}\n\n      {/* SHOW INPUT TO VERIFY CODE */}\n      {messageBlock && (\n        <div\n          className=\"d-flex flex-wrap flex-column align-items-center justify-content-center w-100 mt-3\"\n        // onSubmit={handleSubmit(submit)}\n        >\n          <p className=\"px-3 text-center\">\n            {/* Введите отправленный на ваш телефон номер код. */}\n            {t(\"enterOTP\")}\n          </p>\n\n          <OTPInput\n            value={OTP}\n            onChange={setOTP}\n            autoFocus\n            OTPLength={6}\n            otpType=\"number\"\n            maxTime={seconds}\n            disabled={seconds === 0}\n            inputStyles={{\n              border: \"1px solid green\",\n              width: \"44px\",\n              height: \"44px\",\n              fontSize: \"18px\",\n              borderRadius: \"8px\",\n            }}\n            focusStyle={{\n              border: \"1px solid green\",\n            }}\n          />\n\n          <h2 className=\"text-danger text-center\">{notPassExam}</h2>\n          {/* ERROR APPLICANT  */}\n          {isWrongCode && <p className=\"text-danger fs-3\">{t(\"wrongOTP\")}</p>}\n\n          {/* ERROR EXPIRED APP NUMBER */}\n          {expiredAppNumber && <p className=\"text-danger fs-3\">{t(\"expiredAppNumber\")}</p>}\n\n          {/* Error like 500 */}\n          {responseError && <p className=\"text-danger fs-3\">Извините, произошла внутренняя ошибка сервера. Наши специалисты уже уведомлены о проблеме и работают над её устранением. Пожалуйста, попробуйте повторить запрос позже.</p>}\n\n          <div className=\"d-flex flex-column w-50 align-items-center justify-content-center w-100 mt-3\">\n            {/* КНОПКА ЗАБРОНИРОВАТЬ */}\n            <button\n              className=\"btn btn-success mb-5\"\n              type=\"button\"\n              onClick={verifyOTP}\n              disabled={disBtn || OTP.length < 6}\n            >\n              {t(\"bron\")}\n            </button>\n\n\n            <button\n              className=\"btn mb-3 btn-light\"\n              onClick={() => SendMessageAgain()}\n              disabled={!disBtn}\n            >\n              {/* Отправить код повторно */}\n              {t(\"againOTP\")}\n            </button>\n\n\n            {/* COUNT DOWN TIMER */}\n            <ReactCountdownClock\n              seconds={seconds}\n              color=\"#6c757d\"\n              alpha={2}\n              size={48}\n              onComplete={timeDone}\n            />\n          </div>\n        </div>\n      )}\n\n      {/* MODAL LOADING ANIMATE  */}\n      {isloading && <ModalLoading isLoading={isloading} />}\n\n      {/* SHOW MODAL ERROR */}\n      <ModalPracticeError\n        isTheoryResModal={isTheoryResModal}\n        setShow={setIsTheoryResModal}\n      />\n\n      {/* SHOW CONGRATULATION MODAL */}\n      <ModalCongratPractice\n        congartModal={congartModal}\n        setShow={setCongartModal}\n      />\n\n      {/* SHOW ACTIVE TICKET MODAL */}\n      <ModalActiveTicket\n        hasActiveTicket={hasActiveTicket}\n        setHasActiveTicket={setHasActiveTicket}\n        examData={examData}\n      />\n\n    </div>\n  );\n};\n\nexport default TheoryExamPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}